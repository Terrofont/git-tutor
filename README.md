# Ветки

Ветки позволяют создавать отдельные версии вашего проекта в одном репозитории. Они могут иметь минимальные отличия, для исправления и проверки какого-либо бага или могут полностью отличаться из-за полной переработки проекта

Ваша текущая ветка "master", основная ветка в которой должна находиться текущая и актуальная версия программы, потому старайтесь хранить её в организованном виде и перед тем как вносить изменения убедитесь, что то что вы добавляете в мстер работает корректно. Так как мастер ветку можно назвать "лицом" проекта

## Навигация между ветками

Список веток можно посмотреть при помощи команды 

```
git branch
```

Перейти на другую ветку можно при помощи одной из команд

```
git checkout название_ветки
git branch название_ветки
git switch название_ветки
```

## Создание веток

Создать ветку можно при помощи одной из команд

```
git branch название_ветки
git switch -c название_ветки
git checkout -b название_ветки
```

Для команд "switch" и "checkout" можно использовать аргумент "--orphan" для создания пустой ветки без истории и перехода в неё

```
git checkout --orphan=название_ветки
git switch --orphan=название_ветки
```

Создать ветку на удаленном сервере можно просто "запушив" ветку с вашего локального репозитория. Однако, этот метод будет работать только если у вас в ветку есть хоть какие-то изменения.

## Удаление веток

Удалить ветку можно при помощи команды 

```
git branch -d название_ветки
```

При этом, замена параметра "-d" на "-D" изменит равно использованию параметра удаления с дополнительным параметром "force"

Чтобы удалить ветку на удаленном репозитории воспользуйтесь командой

```
git push -d origin название_ветки
```

## Слияние веток

В ходе работы вам придется производить слияние веток. Когда вы "пуллите" обновления с удаленного репозитория, вы также проводите слияние веток, но в более скрытой форме. В основном слияние веток происходит по одному из двух сценариев: "merge" или "rebase"

"Merge" проводит "слияние" двух веток независимо от коммитов которые разделяют эти ветки. В процессе "слияния" ни одна из веток не удаляется. Недостатком этого метода является то, что при его работе могут произойти "merge conflict"-ы, если в двух ветках производились изменения в одних и тех-же файлах, а также то что все изменения добавленные с коммитами отсутствующими в текущей ветке будут объединены в один общий коммит "слияния" веток. В таком случае гит отправляет вас в состояние "detached HEAD" и вы должны будете вручную исправлять внутри файлов, какую из версий изменений вы хотите оставить. Для разрешение "merge conflict"-а необходимо зайти в конфликтный файл, удалить нежеланную версию, сохранить и закоммитить изменения. Конфликтный участок будет выглядеть следующим образом

```
<<<<<<< HEAD
версия в текущей ветке
=======
версия в ветке с которой проводится слияние
>>>>>>> название_второй_ветки
```

Слияние по механизму "rebase" работает иначе. Оно дополняет коммиты полученные из другой ветки в текущий индекс, потому этот механизм слияния предпочтителен. Если вы работаете с Windows и вы используете "Git Bash", то скорее всего у вас стоит слияние по механизму "rebase". Вы также можете указать вручную чтобы команда "pull" использовала механизм "rebase"

```
git pull --rebase
```

Кроме того чтобы использовать эти команды в составе команды "pull" вы можете использовать их самостоятельно для работы с ветками

```
git merge указатель_на_индекс
git rebase указатель_на_индекс
```

Обратите внимание, что "указатель на индекс" может быть не только веткой, но и хешем коммита

## Получение файлов из других "индексов"

При помощи команды "checkout" вы можете вытаскивать файлы из других веток и версий в ваш текущий индекс

```
git checkout указатель_на_индекс путь_к_файлу
```

## Практика

Теперь, когда вы ознакомились с общей концепцией работы с ветками, можно попробовать различные сценарии работы

1. Во-первых, попробуйте создать "пустую" ветку (ветку без истории) "branchesTrial_ВашеИмяЛатиницей1"
2. Во-вторых, выполните эту команду 

```
echo "this is some content to mess with" > merge.txt

```
3. Далее, "закомитьте" созданный файл
4. Теперь создайте ветку дочернюю текущей с названием "branchesTrial_ВашеИмяЛатиницей2"
5. Выполните следующую команду

```
echo "totally different content to merge later" > merge.txt
```

6. Закомитьте изменения
7. Вернитесь в предыдущую ветку
8. Выполните команду слияния "merge"

На данном этапе вы должны были получить "merge conflict"

9. Разрешите "merge conflict" и добавьте изменения в новый "коммит"
10. Убедитесь, что файлы в обеих ветках идентичные
11. "Запушьте" обе ветки в удаленный репозиторий
12. Удалите ветку "branchesTrial_ВашеИмяЛатиницей2" с удаленного гит репозитория
13. Удалите обе созданные вами ветки с локального гит репозитория

Поздравляю! Вы освоили все необходимые основные навыки для работы с программой "git"

## Культурное ведение гита

Далее хотелось провести беседу о том как содержать свой гит репозиторий в "чистоте" и как сделать опыт работы с гит вас и ваших товарищей приятнее и комфортнее для этого перейдите в ветку "cultureOfGit"
